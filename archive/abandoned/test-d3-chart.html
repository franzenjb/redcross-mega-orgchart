<!DOCTYPE html>
<html>
<head>
    <title>Test D3 Org Chart</title>
    <style>
        #chart-container {
            width: 100%;
            height: 100vh;
            background: #f0f0f0;
        }
    </style>
</head>
<body>
    <div id="chart-container"></div>
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-flextree@2.1.2/build/d3-flextree.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-org-chart@3.1.0/build/d3-org-chart.min.js"></script>
    
    <script>
        // Simple test data
        const testData = [
            {
                id: '1',
                parentId: null,
                name: 'Anna Trefethen',
                title: 'Division VP'
            },
            {
                id: '2', 
                parentId: '1',
                name: 'M. Beddingfield',
                title: 'Regional Executive',
                location: 'Alabama/Mississippi'
            },
            {
                id: '3',
                parentId: '1', 
                name: 'C. Smith',
                title: 'Regional Executive',
                location: 'Florida N/C'
            },
            {
                id: '4',
                parentId: '2',
                name: 'Kelly Hodges',
                title: 'Executive Director',
                location: 'Southern Alabama'
            },
            {
                id: '5',
                parentId: '2',
                name: 'E. Whitt',
                title: 'Chief Dev Officer'
            }
        ];
        
        // Create chart
        const chart = new d3.OrgChart()
            .container('#chart-container')
            .data(testData)
            .nodeWidth(() => 200)
            .nodeHeight(() => 80)
            .childrenMargin(() => 40)
            .compactMarginBetween(() => 15)
            .nodeContent((d) => {
                return `
                    <div style="padding:5px; background:white; border:2px solid #ccc; border-radius:5px;">
                        <div style="font-weight:bold;">${d.data.name}</div>
                        <div style="font-size:12px;">${d.data.title}</div>
                        ${d.data.location ? `<div style="font-size:10px; color:#666;">${d.data.location}</div>` : ''}
                    </div>
                `;
            })
            .render()
            .fit();
            
        console.log('Test chart created with', testData.length, 'nodes');
    </script>
</body>
</html>